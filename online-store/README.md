#  –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ –Ω–∞ C++ –∏ PostgreSQL

##  –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç—Ä–µ—Ö —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –º–µ–Ω–µ–¥–∂–µ—Ä –∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª—å. –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —É–º–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

##  –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ —Å —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª—å—é –¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã –û–û–ü: –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º, –∫–æ–º–ø–æ–∑–∏—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å C++ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å PostgreSQL
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Ö—Ä–∞–Ω–∏–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã

##  –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è**: C++17
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 12+
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î**: libpqxx
- **–°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏**: CMake 3.10+

##  –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ö–ª–∞—Å—Å–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
User (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π)
‚îú‚îÄ‚îÄ Admin
‚îú‚îÄ‚îÄ Manager
‚îî‚îÄ‚îÄ Customer

Order
‚îú‚îÄ‚îÄ OrderItem (–∫–æ–º–ø–æ–∑–∏—Ü–∏—è)
‚îî‚îÄ‚îÄ Payment (–∫–æ–º–ø–æ–∑–∏—Ü–∏—è)

Product
DatabaseConnection<T> (—à–∞–±–ª–æ–Ω–Ω—ã–π –∫–ª–∞—Å—Å)
PaymentStrategy (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π)
‚îú‚îÄ‚îÄ CardPayment
‚îú‚îÄ‚îÄ WalletPayment
‚îî‚îÄ‚îÄ SBPPayment

text

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –û–û–ü
1. **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**: –∫–ª–∞—Å—Å—ã Admin, Manager, Customer –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç User
2. **–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**: –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π
3. **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è**: Order —Å–æ–¥–µ—Ä–∂–∏—Ç OrderItem –∏ Payment
4. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è**: User —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–µ–∫—Ç–æ—Ä shared_ptr<Order>

## üóÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã
1. **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
2. **products** - –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
3. **orders** - –∑–∞–∫–∞–∑—ã
4. **order_items** - –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞
5. **order_status_history** - –∏—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
6. **audit_log** - –∂—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞

### –•—Ä–∞–Ω–∏–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
- `create_order_procedure` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π
- `update_order_status_procedure` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

### –§—É–Ω–∫—Ü–∏–∏
- `get_order_status` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
- `can_return_order` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞
- `get_audit_log_by_user` - –ª–æ–≥–∏ –∞—É–¥–∏—Ç–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### –¢—Ä–∏–≥–≥–µ—Ä—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤
- –ê—É–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ç–æ–≤–∞—Ä–∞–º–∏

##  –£–º–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ STL

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–º–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
- `std::unique_ptr<Payment>` –¥–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
- `std::shared_ptr<Order>` –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

### STL –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –ª—è–º–±–¥—ã
```cpp
// –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å—É
auto filtered = filterOrders(orders, "completed");

// –ü–æ–¥—Å—á–µ—Ç —Å—É–º–º—ã –∑–∞–∫–∞–∑–æ–≤
double total = accumulate(orders.begin(), orders.end(), 0.0, 
    [](double sum, auto& order) { return sum + order->getTotal(); });

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
auto hasPermission = [](User* user, string permission) {
    return user->hasPermission(permission);
};
–õ–æ–≥–∏–∫–∞ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤ –∏ –æ—Ç—á–µ—Ç–æ–≤

–ú–µ–Ω–µ–¥–∂–µ—Ä
–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–∞—Ö

–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –æ–ø–µ—Ä–∞—Ü–∏—è–º

–ü–æ–∫—É–ø–∞—Ç–µ–ª—å
–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ –∑–∞–∫–∞–∑–∞–º–∏

–û–ø–ª–∞—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç –∑–∞–∫–∞–∑–æ–≤

–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–∏–º –¥–∞–Ω–Ω—ã–º

–ê—É–¥–∏—Ç –∏ –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

–î–æ—Å—Ç—É–ø –∫ –∞—É–¥–∏—Ç—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –ø–æ —Ä–æ–ª—è–º

–û—Ç—á–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV
–û—Ç—á–µ—Ç "–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–∫–∞–∑–æ–≤ –∏ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π" —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è SQL-–∑–∞–ø—Ä–æ—Å–æ–º –∏ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.

–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é
–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä C++17 (g++ 9+ –∏–ª–∏ clang 10+)

PostgreSQL 12+

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ libpqxx

CMake 3.10+
